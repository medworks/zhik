jQuery(document).ready(function($){$.getScript('demo/demo.js');var useFixedHeader=true;var showScrollToTopButton=false;var homeSliderAutoAnimated=true;var homeSliderAutoAnimatedDelay=8000;var homeSliderAnimation='directscroll';var homeSliderAnimationSpeed=1000;var testimonialSliderAutoAnimated=true;var testimonialSliderAutoAnimatedDelay=10000;var testimonialSliderAnimationSpeed=600;var imageSliderAutoAnimated=true;var imageSliderAutoAnimatedDelay=5000;var imageSliderAnimation='directscroll';var imageSliderAnimationSpeed=600;var portfolioImageSliderAutoAnimated=true;var portfolioImageSliderAutoAnimatedDelay=5000;var portfolioImageSliderAnimation='directscroll';var portfolioImageSliderAnimationSpeed=1000;var isHeaderCollapsed=false;var isSearchDisplayed=false;renderGoogleMaps();initMobileMenu();$(document).foundation();if(showScrollToTopButton){$.scrollUp({animation:'slide',topDistance:'1000',topSpeed:700,scrollText:'',animationInSpeed:700,animationOutSpeed:300,});$('#scrollUp').append('<i class="icon-angle-up"></i>');}
var width=parseInt($('.content-width').css('width').replace('px',''));if(width<=479||(width>=768&&width<=959)){if($('.stretch-image').length>0){$('.stretch-image').each(function(){var originalImg=$(this);var parentTag=$(this).parent();parentTag.backstretch(originalImg.attr('src'));parentTag.find('div.backstretch').find('img').attr('alt',originalImg.attr('alt'));originalImg.remove();});}}
if($('.home-slider-item, #header-image').length>0){$('.home-slider-item, #header-image').each(function(){var originalImg=$(this).find('img');var parentTag=$(this);parentTag.backstretch(originalImg.attr('src'));parentTag.find('div.backstretch').find('img').attr('alt',originalImg.attr('alt'));originalImg.remove();});}
if($('#portfolio-item-images').length>0){$('#portfolio-item-images img').each(function(){var originalImg=$(this);var parentTag=$(this).parent();var anchorTagAttributes=$(this).parent().prop('attributes');if($(this).parent().prop('tagName').toLowerCase()=='a'){parentTag=$(this).parent().parent();parentTag.backstretch(originalImg.attr('src'));var alteredImg=parentTag.find('div.backstretch').find('img');alteredImg.attr('alt',originalImg.attr('alt'));var newAnchor=$('<a />');$.each(anchorTagAttributes,function(){newAnchor.attr(this.name,this.value);});parentTag.find('div.backstretch').append(newAnchor.append(alteredImg));$(this).parent().remove();}else if($(this).parent().prop('tagName').toLowerCase()=='div'){parentTag=$(this).parent();parentTag.backstretch(originalImg.attr('src'));originalImg.remove();}});}
$('.image-box').fancybox({centerOnScroll:false,overlayOpacity:'0.9',overlayColor:'#222',showNavArrows:true});if($('.twitter-widget-content').length>0){$('.twitter-widget-content').jtwt({username:'envato',image_size:20,count:2,});}
if($('form.validate').length>0){$('form.validate').validationEngine('attach',{autoHidePrompt:'false',autoHideDelay:'7000',fixed:true,scroll:false,binded:false,promptPosition:'centerRight'});}
initContactForm();var icons={header:'ui-accordion-header-icon',activeHeader:'ui-accordion-header-icon-active'};var animateObj={animate:'easeOutQuint',duration:600,};if($('.accordion').length>0){$('.accordion').each(function(){$(this).accordion({autoHeight:false,heightStyle:'content',collapsible:false,animate:animateObj,active:parseInt($(this).attr('data-active-index'))});});}
if($('.toggle').length>0){$('.toggle').accordion({autoHeight:false,heightStyle:'content',collapsible:true,animate:animateObj,active:false,});if($('.toggle').hasClass('active')){$('.toggle.active').accordion({heightStyle:'content',autoHeight:false,collapsible:true,animate:animateObj,active:0,});$('body').scrollTop(0);}}
$('[placeholder]').focus(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=$(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur();$('[placeholder]').parents('form').submit(function(){$(this).find('[placeholder]').each(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');}})});if($('#intro').length>0){if($('#intro').find('p').length==0){$('#intro').find('h1, h2').css('margin-bottom',0);}}
if($('html').hasClass('lt-ie9')){$('.auto').addClass('tabs').removeClass('auto').attr('data-section','tabs');}
var tabs=$('.vertical-tabs p.title > a, .tabs p.title > a, .auto p.title > a');tabs.click(function(){$(this).parents('.section-container').find('.content').each(function(){if($(this).find('.google-map').length>0){$(this).css('display','none');}});var map=$(this).parents('section').find('.content').find('.google-map');if(map.length>0){$(this).parents('section').find('.content').css({'display':'block','width':'100%'});renderGoogleMaps();}});var subs=$('ul.sf-menu').supersubs({minWidth:15,maxWidth:25,extraWidth:2});subs.superfish({animation:{opacity:'show',height:'show'},delay:150,speed:'fast'});$('#header-search-button').click(function(){if(!isSearchDisplayed){$('#header-search-input-wrapper').css('display','block').stop().animate({opacity:1},300);$('#header-search-button').addClass('cancel').find('i').removeClass().addClass('icon-reply');$('#header-search-input').focus();isSearchDisplayed=true;}else{$('#header-search-input-wrapper').stop().animate({opacity:0},300,function(){$(this).css('display','none');});$('#header-search-button').removeClass('cancel').find('i').removeClass().addClass('icon-search');isSearchDisplayed=false;}});if(useFixedHeader){$('#header-container').removeClass('no-fixed');$(window).bind('scroll',function(){var header=$('#header-container');var logo=$('#logo-wrapper');var search=$('#header-search');if($(window).scrollTop()>150){var width=parseInt($('.content-width').css('width').replace('px',''));if(width>959){if(!isHeaderCollapsed){header.stop().animate({top:-84,},800,function(){search.css('right',-60).stop().animate({top:84});});logo.find('p').hide();logo.find('img').css('height',30);logo.css({position:'absolute',paddingBottom:0,});logo.stop().animate({bottom:0,});$('#header-search-input').addClass('small');isHeaderCollapsed=true;}}else{if(width>=768){if(!isHeaderCollapsed){header.stop().animate({top:-12,},800);search.stop().animate({top:33},800);logo.find('p').hide();logo.find('img').css('height',30);logo.css({paddingBottom:0,});logo.stop().animate({bottom:0,});$('#header-search-input').addClass('small');isHeaderCollapsed=true;}}}}else{header.stop().animate({top:0,});logo.find('img').removeAttr('style');logo.css({position:'static',paddingBottom:17,});logo.find('p').show();search.stop().animate({top:0},function(){$(this).animate({'right':0});})
$('#header-search-input').removeClass('small');isHeaderCollapsed=false;}});}else{$('#header-container').addClass('no-fixed');}
if($('#home-slider').length>0){$('#home-slider').carouFredSel({responsive:true,swipe:true,width:'100%',onCreate:function(data){$('#home-slider .home-slider-item').stop().animate({opacity:1},800,function(){$('.slider-caption').stop().animate({opacity:1},500,function(){$('#slider-controller').stop().animate({opacity:1},800);});});},scroll:{fx:homeSliderAnimation,duration:homeSliderAnimationSpeed,},auto:{play:homeSliderAutoAnimated,pauseOnHover:'resume',timeoutDuration:homeSliderAutoAnimatedDelay,},prev:{button:'#slider-prev',},next:{button:'#slider-next',},},{transition:true,});}
var container=$('.portfolio-wrapper');$.Isotope.prototype._positionAbs=function(x,y){return{right:x,top:y};};$(container).imagesLoaded(function(){$(container).isotope({itemSelector:'.portfolio-item',transformsEnabled:false,masonry:{columnWidth:255}});});$('#portfolio-filter').change(function(){var selector=$(this).val();$(container).isotope({filter:selector+', .fixed-box'});return false;});$('.portfolio-item').not('.fixed-box').each(function(){$(this).hoverdir({hoverDelay:75,selector:'.portfolio-item-hover',});});if($('#portfolio-item-images').length>0){$('#portfolio-item-images').carouFredSel({responsive:true,swipe:true,scroll:{fx:portfolioImageSliderAnimation,duration:portfolioImageSliderAnimationSpeed,},auto:{play:portfolioImageSliderAutoAnimated,pauseOnHover:'resume',timeoutDuration:portfolioImageSliderAutoAnimatedDelay,},prev:{button:'#portfolio-item-images-prev',},next:{button:'#portfolio-item-images-next',},},{transition:true,});}
if($('.testimonial-list').length>0){var testimonialList=$('.testimonial-list');testimonialList.each(function(){$(this).carouFredSel({responsive:true,swipe:true,pagination:{container:$(this).parent().parent().find('.testimonial-bullets'),anchorBuilder:function(nr,item){return'<a href="#'+nr+'"></a>';}},scroll:{fx:'crossfade',duration:testimonialSliderAnimationSpeed,},auto:{play:testimonialSliderAutoAnimated,pauseOnHover:'resume',timeoutDuration:testimonialSliderAutoAnimatedDelay,},},{transition:true,});});}
if($('.image-slider').length>0){var imageSlider=$('.image-slider');imageSlider.each(function(){$(this).carouFredSel({responsive:true,swipe:true,scroll:{fx:imageSliderAnimation,duration:imageSliderAnimationSpeed,},auto:{play:imageSliderAutoAnimated,pauseOnHover:'resume',timeoutDuration:imageSliderAutoAnimatedDelay,},prev:{button:$(this).parent().find('.image-slider-prev'),},next:{button:$(this).parent().find('.image-slider-next'),},},{transition:true,});});}
function initContactForm(){$('#success, #error').css('display','none');if($('form#contact-form').length>0){var contactForm=$('form#contact-form');contactForm.submit(function(){$('#success').css('display','none');$('#error').css('display','none');if(contactForm.validationEngine('validate')){$submitButton=$(this).find('input[type="submit"]');$submitButton.removeClass().addClass('medium gray button disabled');$submitButton.attr('value','ارسال پیام...');$submitButton.attr('disabled','disabled');}});}}
function renderGoogleMaps(){var elements=$('.google-map');elements.each(function(){var latlng=$(this).attr('data-latlng').split(',');var lat=jQuery.trim(latlng[0]);var lng=jQuery.trim(latlng[1]);var address=$(this).attr('data-address');var displayType=$(this).attr('data-display-type');var zoomLevel=parseInt($(this).attr('data-zoom-level'));$(this).css('height',$(this).attr('data-height'));switch(displayType.toUpperCase()){case'ROADMAP':displayType=google.maps.MapTypeId.ROADMAP;break;case'SATELLITE':displayType=google.maps.MapTypeId.SATELLITE;break;case'HYBRID':displayType=google.maps.MapTypeId.HYBRID;break;case'TERRAIN':displayType=google.maps.MapTypeId.TERRAIN;break;default:displayType=google.maps.MapTypeId.ROADMAP;break;}
var geocoder=new google.maps.Geocoder();var latlng=new google.maps.LatLng(lat,lng);var myOptions={scrollwheel:false,zoom:zoomLevel,center:latlng,mapTypeId:displayType}
var map=new google.maps.Map($(this)[0],myOptions);geocoder.geocode({'address':address,'latLng':latlng,},function(results,status){if(status==google.maps.GeocoderStatus.OK){if(jQuery.trim(address).length>0){var marker=new google.maps.Marker({map:map,position:results[0].geometry.location});map.setCenter(results[0].geometry.location);}else{var marker=new google.maps.Marker({map:map,position:latlng});marker.setPosition(latlng);map.setCenter(latlng);}}else{alert("Geocode was not successful for the following reason: "+status);}});});}
function initMobileMenu(){var defaultMenuList=$('#root-menu');var mobileMenuList=$('<ul />').appendTo($('#mobile-menu .top-bar-section'));var clonedList=$('#root-menu > li').clone();clonedList=getGeneratedSubmenu(clonedList);clonedList.appendTo(mobileMenuList);}
function getGeneratedSubmenu(list){list.each(function(){if($(this).find('ul').length>0){var submenu=$(this).find('ul');$(this).addClass('has-dropdown');submenu.addClass('dropdown');getGeneratedSubmenu(submenu.find('li'));}});return list;}
var url=window.location.href;$('#menu-wrapper > ul > li > a').each(function(){if(this.href.trim()==url){$(this).addClass("active");return false;}else if(url.match(/page/i)){var href=window.location.href.substr(url.indexOf("/"));href=href.split('-');href=href[0].split('/');$('#menu-wrapper a[href*="'+href[3]+'"]').addClass('active');}});});